{"version":3,"sources":["components/diceware-components/diceware-button.js","components/diceware-components/diceware-passwordrenderer.js","components/diceware-components/diceware-passwordseparator.js","components/diceware-components/diceware-passwordlength.js","components/diceware-components/diceware-language.js","dice.js","repository.js","components/diceware-main.js","components/project-info.js","index.js"],"names":["DicewareButton","props","forceRefresh","bind","e","this","onNewNumberRequest","onClick","Component","DicewarePasswordRenderer","password","DicewarePasswordSeparator","handleChange","updateSeparator","target","value","className","htmlFor","name","separator","onChange","DicewarePasswordLength","Number","updatePasswordLength","passwordLength","type","min","max","DicewareLanguage","updatePasswordLanguage","getRandom","input","Uint32Array","window","crypto","getRandomValues","getWordsMap","language","url","location","href","console","log","Promise","resolve","reject","headers","Headers","append","fetch","then","res","text","data","result","list","Array","from","split","newList","forEach","line","index","k","v","length","getWordsListFromString","loadWordsList","DicewarePasswordGenerator","state","repository","Map","generatePassword","updateLanguage","updateLanguageInternal","set","setState","has","allwords","words","get","fill","map","_","join","ProjectInfo","ApplicationName","App","render","document","getElementById"],"mappings":"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","file":"static/js/main.0536dced.chunk.js","sourcesContent":["import React, {Component} from 'react';\n\nclass DicewareButton extends Component {\n  constructor(props) {\n    super(props);\n    this.forceRefresh = this.forceRefresh.bind(this);\n  }\n\n  forceRefresh(e) {\n    this.props.onNewNumberRequest(e);\n  }\n\n  render() {\n    return <div>\n      <button onClick={this.forceRefresh}>Generate password</button>\n    </div>;\n  }\n}\n\nexport default DicewareButton;","import React, {Component} from 'react';\n\nclass DicewarePasswordRenderer extends Component {\n\n  render() {\n    return <p>{this.props.password}</p>;\n  }\n}\n\nexport default DicewarePasswordRenderer;","import React, {Component} from 'react';\n\nclass DicewarePasswordSeparator extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    this.props.updateSeparator(e.target.value);\n  }\n\n  render() {\n    return <div>\n      <label className=\"column-left\"\n              htmlFor=\"separatorInput\"\n              >separator: </label>\n      <input  name=\"separatorInput\" \n              className=\"column-right\"\n              value={this.props.separator}\n              onChange={this.handleChange}\n              ></input>\n    </div>\n  }\n}\n\nexport default DicewarePasswordSeparator;","import React, {Component} from 'react';\n\nclass DicewarePasswordLength extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange= this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    let value = Number(e.target.value);\n    this.props.updatePasswordLength(value);\n  }\n\n  render() {\n    return <div>\n      <label  className=\"column-left\"\n              htmlFor=\"passwordLengthInput\"\n              >words per password (4-10): </label>\n      <input  name=\"passwordLengthInput\" \n              className=\"column-right\"\n              value={this.props.passwordLength}\n              onChange={this.handleChange}\n              type={\"number\"}\n              min={4}\n              max={10}\n              ></input>\n    </div>;\n  }\n}\n\nexport default DicewarePasswordLength;","import React, {Component} from 'react';\n\nclass DicewareLanguage extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    this.props.updatePasswordLanguage(e.target.value);\n  }\n\n  render() {\n    return <div>\n      <label  htmlFor=\"languageInput\"\n              className=\"column-left\"\n              >language:</label>\n      <select name=\"languageInput\"\n              className=\"column-right\"\n              onChange={this.handleChange}>\n        <option value=\"en\">English</option>\n        <option value=\"fi\">Finnish</option>\n        <option value=\"mi\">Maori</option>\n        <option value=\"pl\">Polish</option>\n      </select>\n    </div>    \n  }\n}\n\nexport default DicewareLanguage;","let getRandom = function() {\n  let input = new Uint32Array(1);\n  window.crypto.getRandomValues(input);\n  return input[0];\n}\n\nexport default getRandom;","let getWordsMap = function(language) {\n  let url = window.location.href + \"diceware-\" + language + \".txt\";\n  console.log('new version');\n  return loadWordsList(url).then(data => data);\n}\n\n// returns list (array) of words\nfunction getWordsListFromString(data) {\n  let list = Array.from(data.split(/\\n/));\n  let newList = null;\n\n  list.forEach((line, index) => {\n    let [k, v] = line.split(/\\s+/);\n    if (newList == null) {\n      newList = new Array(list.length);\n    }\n    newList[index] = (v) ? v : k;\n  });\n  return newList;\n}\n\nfunction loadWordsList(url) {\n  return new Promise((resolve, reject) => {\n    let headers = new Headers();\n    headers.append('Content-type', 'text/plain; charset=UTF-8');\n    fetch(url, headers)\n      .then(res => res.text())\n      .then(data => {\n        let result = getWordsListFromString(data);\n        resolve(result);\n      })\n  });\n}\n\nexport default getWordsMap;","import React, {Component} from 'react';\nimport DicewareButton from './diceware-components/diceware-button';\nimport DicewarePasswordRenderer from './diceware-components/diceware-passwordrenderer';\nimport DicewarePasswordSeparator from './diceware-components/diceware-passwordseparator';\nimport DicewarePasswordLength from './diceware-components/diceware-passwordlength';\nimport DicewareLanguage from './diceware-components/diceware-language';\nimport getRandom from '../dice';\nimport getWordsMap from '../repository';\n\nclass DicewarePasswordGenerator extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      repository: new Map(),\n      password: null,\n      language: \"en\",\n      separator: \"-\",\n      passwordLength: 6,\n    };\n    this.generatePassword = this.generatePassword.bind(this);\n    this.updatePasswordLength = this.updatePasswordLength.bind(this);\n    this.updateSeparator = this.updateSeparator.bind(this);\n    this.updateLanguage = this.updateLanguage.bind(this);\n  }\n\n  componentDidMount() {\n    this.updateLanguageInternal(this.state.language);\n  }\n\n  updateLanguageInternal(language) {\n    getWordsMap(language).then(result => {\n      let repository = this.state.repository;\n      repository.set(language, result);\n      this.setState({repository: repository});\n    })\n  }\n\n  updateLanguage(value) {\n    this.setState({language: value})\n    if ( !this.state.repository.has(value)) {\n      this.updateLanguageInternal(value);\n    }\n  }\n  \n  updatePasswordLength(value) {\n    this.setState({passwordLength: value})\n  }\n\n  updateSeparator(value) {\n    this.setState({separator: value})\n  }\n\n  generatePassword() {\n    let allwords = new Array(this.state.passwordLength);\n    let words = this.state.repository.get(this.state.language);\n    allwords = allwords.fill().map(_ => words[getRandom() % words.length]);\n    let password = allwords.join(this.state.separator);\n    this.setState({password: password});\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"container\">\n          <DicewareLanguage\n            updatePasswordLanguage={this.updateLanguage}\n            ></DicewareLanguage>\n          <DicewarePasswordLength\n            passwordLength={this.state.passwordLength}\n            updatePasswordLength={this.updatePasswordLength}></DicewarePasswordLength>\n          <DicewarePasswordSeparator \n            separator={this.state.separator}\n            updateSeparator={this.updateSeparator}\n            ></DicewarePasswordSeparator>\n          <DicewareButton \n            onNewNumberRequest={this.generatePassword} />\n        </div>\n      <DicewarePasswordRenderer\n        password={this.state.password} />\n      </div>\n    );\n  }\n}\n\nexport default DicewarePasswordGenerator;","import React, {Component} from 'react';\n\nclass ProjectInfo extends Component {\n\n  render() {\n    return <small><p>\n      this project on github:  \n      <a href=\"https://github.com/MaciekTalaska/react-diceware\"> react-diceware</a>\n      </p></small>;\n  }\n}\n\nexport default ProjectInfo;\n","import React, {Component} from 'react';\nimport {render} from 'react-dom';\nimport './style.css';\nimport DicewarePasswordGenerator from './components/diceware-main';\nimport ProjectInfo from './components/project-info';\n\nclass ApplicationName extends Component {\n  render() {\n    return <h1>Diceware Password Generator (in ReactJS)</h1>;\n  }\n}\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"main\">\n        <ApplicationName />\n        <DicewarePasswordGenerator />\n        <ProjectInfo></ProjectInfo>\n      </div>\n    );\n  }\n}\n\nrender(<App />, document.getElementById('root'));\n"],"sourceRoot":""}